
<div class="container">
    <h1 class="header text-center">Nueva Venta</h1>
    <div class="container">
        <div class="contenedor-filas">
        <div class="contenedor-flexbox">
            
            <div class="columna">
                <input class="input" type="text" [(ngModel)]="value" (input)="search()" placeholder="Buscar por descripcion del producto">
                @if(value && venta.length > 0){
                    <ul class="dropdown">
                        @for(data of venta; track $index){
                            <li (click)="agregarProducto(data)">{{ data.descripcion }}</li>
                        }
                    </ul>  
                }            
            </div>     
    </div>
    <div class="table-container mt-3">
        <nz-table [nzShowPagination]="false" class="responsive-table" #basicTable [nzData]="venta">
            <thead>
              <tr>
                <th class="text-center">Codigo</th>
                <th class="text-center">Articulo</th>
                <th class="text-center">Precio</th>
                <th class="text-center">Accion</th>
              </tr>
            </thead>
            <tbody class="align-item-center">
                @for (data of productosAgregados; track $index) {
                    <tr>
                      <td class="text-center">{{ data.codconsignacion }}</td>
                      <td class="text-center">{{ data.descripcion }}</td>
                      <td class="text-center">{{ data.precio }}</td>
                    <td>
                        <button  class="nz-button" nz-popconfirm
                        nzPopconfirmTitle="Estas seguro que desea desactivar el producto?"
                        nzPopconfirmPlacement="bottom"
                         nz-button nzType="primary" (nzOnConfirm)="eliminarProducto(data.idproducto || '') ">
                            Quitar
                        </button>
                    </td>
                    </tr>
                }
            </tbody>
        </nz-table>
    </div>
</div>

